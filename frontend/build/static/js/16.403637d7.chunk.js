(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[16],{460:function(e,t,c){"use strict";var n=c(44),r=c(65),a=c(8),i=c(0),o=c.n(i),s=c(399),l=c(301),d=c(304),j=c(309),u=c(289),b=c(331),m=c(276),x=c(277),h=c(296),O=c(275),f=c(37),p=c(106),g=c(64),y=c(434),v=c.n(y),C=c(475),N=c.n(C),B=c(278),w=c(274),k=c(314),S=c(330),z=c(313),I=c(336),D=c(56),P=Object(s.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column"},buttonBox:{display:"flex",flexDirection:"row",justifyContent:"space-between"},backButton:{backgroundColor:e.colors.red},addButton:{backgroundColor:D.a[500]}}}));function T(e){var t=e.customisations,c=e.onSelect,s=e.onDone,l=e.onCancel,d=e.selected,j=P(),b=o.a.useState([0]),m=Object(r.a)(b,2),x=m[0],h=m[1],f=function(e){var t=x.indexOf(e.id),r=Object(n.a)(x);-1===t?(r.push(e.id),c(e,"add")):(r.splice(t,1),c(e,"remove")),h(r)};return Object(i.useEffect)((function(){d.forEach((function(e){e.id&&f(e)}))}),[d]),Object(a.jsxs)(B.a,{className:j.root,children:[Object(a.jsx)(z.a,{primary:"Available addons"}),t.map((function(e){var t="checkbox-list-label-".concat(e.id);return Object(a.jsxs)(w.a,{role:void 0,dense:!0,button:!0,onClick:function(){f(e)},children:[Object(a.jsx)(k.a,{children:Object(a.jsx)(I.a,{edge:"start",checked:-1!==x.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(a.jsx)(z.a,{primary:e.name}),Object(a.jsx)(S.a,{children:Object(a.jsx)(z.a,{primary:e.price})})]},e.id)})),Object(a.jsxs)(u.a,{className:j.buttonBox,children:[Object(a.jsx)(O.a,{className:j.backButton,onClick:function(){l()},variant:"contained",children:"Go back"}),Object(a.jsx)(O.a,{className:j.addButton,onClick:function(){s(!1)},variant:"contained",children:"Add to cart"})]})]})}var W=c(10),R=Object(s.a)((function(e){return{media:{height:140},button:{border:"1px solid black",color:e.palette.text.primary,"&:hover":{color:"green","& .MuiButton-endIcon":{fill:"black",transform:"translateX(3px)",transition:"all 0.2s ease"}}},customisationButton:{fontSize:".6rem",width:"13rem",lineHeight:".1rem",marginBottom:"1rem"},productName:{color:e.palette.text.primary,fontSize:"1.6rem",fontWeight:"750",lineHeight:"1.8rem"},productCard:{marginBottom:".7rem","&:hover":{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},focused:{backgroundColor:"#f1faee"},productCardContent:{display:"flex",flexDirection:"column"},price:{color:e.palette.text.primary,fontSize:"1rem"},description:{color:e.palette.text.primary,fontSize:".7rem"},addButton:{fill:e.colors.red},removeButton:{fill:e.colors.green}}}));t.a=function(e){var t=e.product,c=R(),o=Object(f.b)(),s=(Object(f.c)((function(e){return e.order}))||{}).selectedProducts||[],y=Object(i.useRef)([]),C=Object(i.useState)(!1),B=Object(r.a)(C,2),w=B[0],k=B[1],S=Object(i.useRef)({}),z=s.find((function(e){return e.id===t.id}))||{},I=function(){S.current.customisations=y.current,o(Object(g.e)(S.current)),S.current={},y.current=[],k(!1)};return Object(a.jsx)(p.a,{effect:"pulse",children:Object(a.jsxs)(l.a,{className:w?Object(W.a)(c.productCard,c.focused):c.productCard,children:[Object(a.jsx)(d.a,{className:c.productCardContent,children:w?Object(a.jsx)(j.a,{in:!0,children:Object(a.jsx)(T,{selected:y.current,customisations:t.customisation,onDone:I,onCancel:function(){k(!1)},onSelect:function(e,t){"add"===t?y.current=[].concat(Object(n.a)(y.current),[e]):"remove"===t&&(y.current=y.current.filter((function(t){return t.id!==e.id})))}})}):Object(a.jsxs)(u.a,{children:[t.image&&Object(a.jsx)(b.a,{image:t.image,title:t.name,className:c.media}),Object(a.jsx)(m.a,{gutterBottom:!0,className:c.productName,children:t.name}),Object(a.jsxs)(m.a,{className:c.price,children:["Rs ",t.price]}),Object(a.jsx)(m.a,{className:c.description,children:t.description})]})}),Object(a.jsx)(x.a,{}),Object(a.jsx)(u.a,{p:2,children:w?null:Object(a.jsxs)(h.a,{container:!0,justify:"space-between",spacing:2,children:[Object(a.jsx)(O.a,{variant:"outlined",color:"primary",onClick:function(){!function(e){var t=Object.assign({},e);t.quantity=1,t.price=e.price,S.current=t,t.customisation.length?k(!0):I()}(t)},className:c.button,endIcon:Object(a.jsx)(v.a,{className:c.removeButton}),children:"Add"}),Object(a.jsx)(m.a,{align:"center",color:"textPrimary",gutterBottom:!0,style:{fontSize:"1rem"},children:(z&&z.quantity||0)+" Nos"}),Object(a.jsx)(O.a,{variant:"outlined",color:"primary",onClick:function(){!function(e){var t=Object.assign({},e);t.customisations=[],o(Object(g.C)(t))}(t)},className:c.button,endIcon:Object(a.jsx)(N.a,{className:c.addButton}),children:"Remove"})]})})]})})}},461:function(e,t,c){"use strict";var n=c(65),r=c(8),a=c(0),i=c(476),o=c(399),s=c(296),l=c(301),d=c(340),j=c(276),u=c(333),b=c(277),m=c(334),x=c(275),h=c(289),O=c(304),f=c(37),p=c(435),g=c.n(p),y=c(106),v=c(332),C=c(64),N=c(434),B=c.n(N),w=c(477),k=c.n(w),S=Object(o.a)((function(e){return{cartItems:{width:"5rem",fontSize:".7rem"},addButton:{fill:e.colors.red,"&:hover":{fill:"black"},cursor:"pointer"},removeButton:{fill:e.colors.green,"&:hover":{fill:"black"},cursor:"pointer"},actionsCard:{display:"flex",padding:".5rem",background:"#eae9e92b"}}})),z=function(e){var t=e.item,c=Object(f.b)(),n=S();return Object(r.jsx)(s.a,{item:!0,xs:12,children:Object(r.jsx)(y.c,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(O.a,{style:{padding:"unset"},children:Object(r.jsx)(h.a,{p:2,children:Object(r.jsxs)(s.a,{container:!0,justify:"space-between",spacing:1,children:[Object(r.jsx)(s.a,{item:!0,xs:5,children:Object(r.jsx)(j.a,{noWrap:!0,children:t.name})}),Object(r.jsx)(s.a,{xs:4,item:!0,children:Object(r.jsxs)(l.a,{className:n.actionsCard,children:[Object(r.jsx)(B.a,{onClick:function(){return function(e){var t=Object.assign({},e);t.quantity=1,t.cartItemPanel=!0,c(Object(C.e)(t))}(t)},className:n.addButton}),Object(r.jsx)(j.a,{className:n.cartItems,variant:"h5",align:"center",children:t.quantity}),Object(r.jsx)(k.a,{onClick:function(){return e=t,void c(Object(C.C)(e));var e},className:n.removeButton})]})}),Object(r.jsx)(s.a,{item:!0,xs:3,children:Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["$ ",t.cost]})})]})})}),Object(r.jsx)(v.a,{})]})})})},I=c(505),D=c(53),P=c(56),T=Object(o.a)((function(e){return{root:{width:"100%"},emptyCart:{display:"flex",flexDirection:"column"},emptyCartImage:{width:"10rem",alignSelf:"center"},emptyCartText:{color:e.palette.text.primary,fontSize:"1.2rem",alignSelf:"center",paddingBottom:"1rem"},cartTitle:{color:e.palette.text.primary,fontSize:"1.4rem",padding:"1rem",fontWeight:800},cartTitleMobile:{color:e.palette.text.primary,fontSize:"1rem",padding:"1rem",fontWeight:800},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},orderButton:{backgroundColor:e.colors.green},orderBox:{display:"flex",justifyContent:"space-between"},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));t.a=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.order}))||{},c=Object(f.c)((function(e){return e.table}))||{},o=t.selectedProducts||[],p=Object(a.useState)(!1),v=Object(n.a)(p,2),N=v[0],B=v[1],w=o.map((function(e){return e.items})).reduce((function(e,t){return e.concat(t)}),[])||[],k=T(),S=0;w.forEach((function(e){var t=e.customisations.reduce((function(e,t){return e+t.price}),0)+e.price;e.quantity>1?S+=t*e.quantity:S+=t}));var W=function(){var t={},n=w.slice(0);n=n.map((function(e){var t=Object.assign({},e);return t.customisations=e.customisations.map((function(e){return e.id})),t})),t.tableId=c.selectedTable.id,t.products=n,t.price=S,t.status="ordered",e(Object(C.c)(t))};return i.isMobile?Object(r.jsx)(s.a,{container:!0,justify:"center",fullWidth:!0,children:N?Object(r.jsxs)(l.a,{style:{bottom:"0",position:"fixed",width:"90%",maxHeight:"70vh",overflow:"scroll"},children:[Object(r.jsx)(d.a,{expandIcon:Object(r.jsx)(g.a,{onClick:function(){B(!N)}}),children:Object(r.jsx)(j.a,{className:k.cartTitleMobile,children:"Items in your cart"})}),Object(r.jsx)(u.a,{className:k.details,children:Object(r.jsx)(l.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:w.map((function(e,t){return Object(r.jsx)(z,{item:e},e.id+t)}))})}),Object(r.jsx)(b.a,{}),Object(r.jsxs)(m.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["Total Cost: ",S]}),Object(r.jsx)(x.a,{variant:"contained",onClick:function(){W()},disabled:!o.length,className:k.orderButton,endIcon:Object(r.jsx)(I.a,{}),children:"Place Order"})]})]}):Object(r.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",bottom:"0",position:"fixed"},children:[Object(r.jsx)(x.a,{style:{background:D.a[500],margin:"1rem"},variant:"contained",onClick:function(){e(Object(C.w)(!1))},children:"Go back"}),Object(r.jsx)(x.a,{style:{background:P.a[500],margin:"1rem"},variant:"contained",onClick:function(){B(!N)},children:"Cart"})]})}):Object(r.jsxs)(h.a,{style:{display:"flex",flexDirection:"column",minHeight:"20vh",width:"30%"},children:[Object(r.jsx)(j.a,{gutterBottom:!0,className:k.cartTitle,component:"h2",children:"Items in your cart"}),0===o.length&&Object(r.jsxs)(h.a,{className:k.emptyCart,children:[Object(r.jsx)("img",{alt:"empty-cart",src:"/images/empty-plate.png",className:k.emptyCartImage}),Object(r.jsx)(j.a,{variant:"h5",component:"h2",className:k.emptyCartText,children:"Uh, oh! your cart looks empty"})]}),w.map((function(e,t){return Object(r.jsx)(z,{item:e},e.id+t)})),Object(r.jsx)(b.a,{}),o.length>0?Object(r.jsx)(s.a,{item:!0,xs:12,children:Object(r.jsx)(y.c,{children:Object(r.jsx)(O.a,{children:Object(r.jsxs)(h.a,{className:k.orderBox,children:[Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["Total Cost: ",S]}),Object(r.jsx)(x.a,{variant:"contained",onClick:function(){W()},disabled:!o.length,className:k.orderButton,endIcon:Object(r.jsx)(I.a,{}),children:"Place Order"})]})})})}):Object(r.jsx)("div",{})]})}},512:function(e,t,c){"use strict";c.r(t);var n=c(65),r=c(8),a=c(0),i=c.n(a),o=c(399),s=c(306),l=c(296),d=c(275),j=c(304),u=c(276),b=c(301),m=c(289),x=c(285),h=c(303),O=c(297),f=c(300),p=c(298),g=c(299),y=c(277),v=c(332),C=c(37),N=c(454),B=c.n(N),w=c(453),k=c.n(w),S=c(318),z=c(295),I=c(95),D=c(323),P=c(324),T=c(338),W=c(305),R=c(433),q=c(64),E=c(460),A=c(461),H=Object(o.a)((function(e){return{sortBy:{width:"10rem"},helperBox:{display:"flex",flexDirection:"row",marginTop:"1rem",justifyContent:"space-between"},button:{width:"9rem",fontSize:".9rem",marginRight:".5rem"}}})),L=function(){var e=Object(C.b)(),t=H(),c=Object(C.c)((function(e){return e.product})),i=Object(a.useState)([]),o=Object(n.a)(i,2),s=o[0],u=o[1],b=Object(a.useState)(""),x=Object(n.a)(b,2),h=x[0],O=x[1],f=Object(a.useRef)(""),p=Object(C.c)((function(e){return e.branch})),g=p&&p.topProducts||[],y=c&&c.products||[],v=function(e){f.current=e,u(y.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})))};return Object(a.useEffect)((function(){e(Object(q.s)())}),[]),Object(a.useEffect)((function(){v(""),u(y)}),[y]),Object(r.jsxs)(l.a,{container:!0,maxWidth:!0,children:[Object(r.jsxs)(l.a,{style:{marginRight:"1rem"},item:!0,lg:7,children:[Object(r.jsx)(m.a,{children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(S.a,{fullWidth:!0,onChange:function(e){v(e.target.value)},InputProps:{startAdornment:Object(r.jsx)(z.a,{position:"start",children:Object(r.jsx)(I.a,{fontSize:"small",color:"action",children:Object(r.jsx)(R.a,{})})})},placeholder:"Search for dishes",variant:"outlined",value:f.current}),Object(r.jsxs)(m.a,{className:t.helperBox,children:[Object(r.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){u(g)},className:t.button,children:"Top ordered"}),Object(r.jsxs)(D.a,{className:t.sortBy,variant:"outlined",children:[Object(r.jsx)(P.a,{id:"demo-simple-select-outlined-label",children:"Sort by"}),Object(r.jsxs)(T.a,{value:h,onChange:function(e){!function(e){var t=s.slice(0);if(O(e),t.length>1)switch(f.current&&(t=t.filter((function(e){return e.name.toLowerCase().includes(f.current.toLowerCase())}))),e){case"ascending":u(t.sort((function(e,t){return e.price-t.price})));break;case"descending":u(t.sort((function(e,t){return t.price-e.price})))}}(e.target.value)},label:"Sort by",children:[Object(r.jsx)(W.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),Object(r.jsx)(W.a,{value:"ascending",children:"Price low to high"}),Object(r.jsx)(W.a,{value:"descending",children:"Price high to low"})]})]})]})]})}),Object(r.jsx)(l.a,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:s.map((function(e,t){return Object(r.jsx)(l.a,{item:!0,lg:6,xs:12,children:Object(r.jsx)(E.a,{product:e})},e.id+t)}))})]}),Object(r.jsx)(A.a,{})]})},M=Object(o.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column"},productName:{color:e.palette.text.primary,fontSize:"1.6rem",fontWeight:"750",lineHeight:"1.8rem"},card:{marginBottom:".7rem","&:hover":{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},content:{display:"flex",flexDirection:"column"},price:{color:e.palette.text.primary,fontSize:"1rem",margin:".5rem"},quantity:{color:e.palette.text.primary,fontSize:"1rem",margin:".5rem"},status:{color:e.palette.text.primary,fontSize:"1rem",margin:".5rem",background:"yellow",fontWeight:"600"},detailsBox:{display:"flex",flexDirection:"row"},topButton:{alignSelf:"center",width:"15rem"}}}));t.default=function(){var e=M(),t=Object(C.b)(),c=Object(C.c)((function(e){return e.order}))||{},o=Object(C.c)((function(e){return e.table})),N=o&&o.selectedTable||{},w=(c.orders||[]).map((function(e){return e.orderItems})).reduce((function(e,t){return e.concat(t)}),[]),S=i.a.useState({id:null}),z=Object(n.a)(S,2),I=z[0],D=z[1];Object(a.useEffect)((function(){N.id&&t(Object(q.o)(N.id))}),[t,N]);var P=function(){t(Object(q.p)()),t(Object(q.w)(!0))};return Object(r.jsx)(s.a,{maxWidth:!0,children:c&&c.add?Object(r.jsx)(L,{table:N}):Object(r.jsxs)(l.a,{item:!0,xs:12,className:e.content,children:[Object(r.jsx)(d.a,{color:"primary",onClick:function(){P()},variant:"contained",className:e.topButton,children:"Place another order"}),Object(r.jsxs)(j.a,{className:e.root,children:[Object(r.jsx)(u.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:N.name}),Object(r.jsx)(u.a,{color:"textSecondary",variant:"body1",children:"".concat(N.branchName)}),w.map((function(t){return Object(r.jsxs)(b.a,{className:e.card,children:[Object(r.jsxs)(j.a,{children:[Object(r.jsx)(u.a,{gutterBottom:!0,className:e.productName,children:t.productName}),Object(r.jsxs)(m.a,{className:e.detailsBox,children:[Object(r.jsxs)(u.a,{className:e.price,children:["Rs ",t.price]}),Object(r.jsxs)(u.a,{className:e.quantity,children:[t.quantity," Nos"]}),Object(r.jsx)(u.a,{className:e.status,children:t.status})]}),Object(r.jsxs)(m.a,{children:[Object(r.jsx)(x.a,{"aria-label":"expand row",size:"small",onClick:function(){var e;I===(e=t).id?D(null):D(e.id)},children:I===t.id?Object(r.jsx)(k.a,{}):Object(r.jsx)(B.a,{})})," ","Addons",Object(r.jsx)(h.a,{in:I===t.id,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(m.a,{margin:1,children:[Object(r.jsx)(u.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Customisations"}),Object(r.jsx)(O.a,{size:"small","aria-label":"customisations",children:Object(r.jsx)(f.a,{children:t.customisations.length?t.customisations.map((function(e){return Object(r.jsxs)(p.a,{children:[Object(r.jsx)(g.a,{component:"th",scope:"row",children:e.name}),Object(r.jsx)(g.a,{align:"right",children:e.price})]},e.id)})):Object(r.jsx)(u.a,{variant:"h6",gutterBottom:!0,component:"div",children:"No Customisations added"})})})]})})]})]}),Object(r.jsx)(y.a,{})]},t.id)}))]}),Object(r.jsx)(y.a,{}),Object(r.jsx)(v.a,{children:Object(r.jsx)(d.a,{color:"primary",onClick:function(){P()},fullWidth:!0,variant:"text",children:"Place another order"})})]})})}}}]);
//# sourceMappingURL=16.403637d7.chunk.js.map