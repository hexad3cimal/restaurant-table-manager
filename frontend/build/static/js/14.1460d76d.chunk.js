(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[14],{295:function(e,t,r){"use strict";var n=r(4),a=r(9),i=r(0),c=(r(6),r(10)),o=r(276),s=r(15),l=r(416),d=i.forwardRef((function(e,t){var r=e.children,s=e.classes,d=e.className,b=e.component,u=void 0===b?"div":b,j=e.disablePointerEvents,m=void 0!==j&&j,h=e.disableTypography,p=void 0!==h&&h,f=e.position,O=e.variant,x=Object(a.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),g=Object(l.b)()||{},v=O;return O&&g.variant,g&&!v&&(v=g.variant),i.createElement(l.a.Provider,{value:null},i.createElement(u,Object(n.a)({className:Object(c.a)(s.root,d,m&&s.disablePointerEvents,g.hiddenLabel&&s.hiddenLabel,"filled"===v&&s.filled,{start:s.positionStart,end:s.positionEnd}[f],"dense"===g.margin&&s.marginDense),ref:t},x),"string"!==typeof r||p?r:i.createElement(o.a,{color:"textSecondary"},r)))}));t.a=Object(s.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},408:function(e,t,r){"use strict";var n=r(17),a=r(38),i=r(8),c=r(0),o=r(415),s=r(6),l=r.n(s),d=Object(c.forwardRef)((function(e,t){var r=e.children,c=e.title,s=void 0===c?"":c,l=Object(a.a)(e,["children","title"]);return Object(i.jsxs)("div",Object(n.a)(Object(n.a)({ref:t},l),{},{children:[Object(i.jsx)(o.a,{children:Object(i.jsx)("title",{children:s})}),r]}))}));d.propTypes={children:l.a.node.isRequired,title:l.a.string},t.a=d},433:function(e,t,r){"use strict";var n=r(0),a=r.n(n),i=r(6),c=r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=e.size,c=void 0===i?24:i,l=s(e,["color","size"]);return a.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));l.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},l.displayName="Search",t.a=l},508:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r(0),i=r(399),c=r(306),o=r(289),s=r(276),l=r(275),d=r(37),b=r(408),u=r(65),j=r(301),m=r(304),h=r(318),p=r(295),f=r(95),O=r(296),x=r(432),g=r.n(x),v=r(433),w=r(10),y=r(277),C=r(64),P=r(13),k="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),N=new Uint8Array(16);function E(){if(!k)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(N)}var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var T=function(e){return"string"===typeof e&&I.test(e)},S=[],R=0;R<256;++R)S.push((R+256).toString(16).substr(1));var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]).toLowerCase();if(!T(r))throw TypeError("Stringified UUID is invalid");return r};var B=function(e,t,r){var n=(e=e||{}).random||(e.rng||E)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return q(n)},U=r(106),W=r(7),L=r.n(W),V=r(69),M=r(17),A=r(311),D=r(423),z=r(20),$=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.branch})),r=Object(d.c)((function(e){return e.table})),i=Object(d.c)((function(e){return e.user}))||{},c=r&&r.selectedTable||{},s=t&&t.branches||[],b=Object(a.useRef)({}),p=Object(a.useRef)({newPassword:""}),f=new RegExp("^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{5,})"),x=Object(a.useState)({id:"",name:"",userName:"",branchId:"",branchName:"",password:"",passwordConfirm:""}),g=Object(u.a)(x,2),v=g[0],w=g[1];Object(a.useEffect)((function(){t.selectedBranch||w(Object(M.a)(Object(M.a)({},v),{},{userName:i.user.name.split(" ").join("")+"-table-"}))}),[i]),Object(a.useEffect)((function(){c&&w(Object(M.a)({},c))}),[c]),Object(a.useEffect)((function(){e(Object(C.l)())}),[]);var P={newUserName:{required:!0,remoteValidate:!0,url:"".concat(window.restAppConfig.api,"user/validate?username"),errorMessages:{required:"Username is Required",remoteValidate:"Username already Taken"}},newPassword:{required:!v.id||!!p.current.newPassword.length,regex:f,errorMessages:{required:"Password is Required",regex:"Password should contain at least 1 numeric,special character and be of atleast 5 characters"}},passwordConfirm:{required:!v.id||!!p.current.newPassword.length,compareWith:"newPassword",errorMessages:{required:"Please confirm the password",compareWith:"Password doesn't match"}},name:{required:!0,errorMessages:{required:"Full name is Required"}},branchId:{required:!0,errorMessages:{required:"Please select a branch"}}},k=function(){var e=Object(V.a)(L.a.mark((function e(t){var r,n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=L.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(n=e.t1.value,!P[n]||!P[n].required){e.next=16;break}if(t[n]||(r[n]=P[n].errorMessages.required),!P[n].remoteValidate){e.next=14;break}if(p.current[n]===t[n]&&!b.current[n]){e.next=14;break}return a="".concat(P[n].url,"=").concat(t[n]),v.id&&(a="".concat(a,"&id=").concat(v.id)),e.next=12,Object(z.d)(a);case 12:e.sent||(r[n]=P[n].errorMessages.remoteValidate);case 14:P[n].regex&&(P[n].regex.test(t[n])||(r[n]=P[n].errorMessages.regex)),P[n].compareWith&&t[n]!==t[P[n].compareWith]&&(r[n]=P[n].errorMessages.compareWith);case 16:e.next=2;break;case 18:return b.current=r,p.current=Object(M.a)(Object(M.a)({},p.current),{},{values:t}),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(j.a,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(D.a,{enableReinitialize:!0,initialValues:{name:v.name,newUserName:v.userName,branchId:v.branchId,branchName:v.branchName,newPassword:v.password,passwordConfirm:"",edit:!1},validate:k,onSubmit:function(t,r){if(t.branchName=s.reduce((function(e,r){return r.branchId===t.branchId&&e.push(r.name),e}),[])[0],v.id)return t.edit=!0,t.id=v.id,void e(Object(C.f)(t));e(Object(C.f)(t)),r.setSubmitting(!1)},children:function(t){var r=t.errors,a=t.handleBlur,i=t.handleChange,c=t.handleSubmit,d=t.isSubmitting,b=t.touched,u=t.values;return Object(n.jsx)("form",{onSubmit:c,children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(A.a,{title:v.id?"Edit table":"Add table"}),Object(n.jsx)(y.a,{}),Object(n.jsx)(m.a,{children:Object(n.jsxs)(O.a,{container:!0,spacing:3,children:[Object(n.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(h.a,{error:Boolean(b.name&&r.name),fullWidth:!0,helperText:b.name&&r.name,label:"Table Name",margin:"normal",name:"name",onBlur:a,onChange:i,value:u.name,variant:"outlined"})}),Object(n.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(h.a,{error:Boolean(b.newUserName&&r.newUserName),fullWidth:!0,helperText:b.newUserName&&r.newUserName,label:"Username",margin:"normal",name:"newUserName",onBlur:a,onChange:i,value:u.newUserName,variant:"outlined"})}),Object(n.jsx)(O.a,{item:!0,md:4,xs:12,children:Object(n.jsx)(h.a,{error:Boolean(b.newPassword&&r.newPassword),fullWidth:!0,helperText:b.newPassword&&r.newPassword,label:"Password",margin:"normal",name:"newPassword",onBlur:a,onChange:i,value:u.newPassword,variant:"outlined",type:"password"})}),Object(n.jsx)(O.a,{item:!0,md:4,xs:12,children:Object(n.jsx)(h.a,{error:Boolean(b.passwordConfirm&&r.passwordConfirm),fullWidth:!0,helperText:b.passwordConfirm&&r.passwordConfirm,label:"Password",margin:"normal",name:"passwordConfirm",onBlur:a,onChange:i,value:u.passwordConfirm,variant:"outlined",type:"password"})}),Object(n.jsx)(O.a,{item:!0,md:4,xs:12,children:Object(n.jsxs)(h.a,{fullWidth:!0,label:"Select Branch",name:"branchId",margin:"normal",error:Boolean(b.branchId&&r.branchId),helperText:b.branchId&&r.branchId,onChange:i,required:!0,select:!0,SelectProps:{native:!0},value:u.branchId,variant:"outlined",InputLabelProps:{shrink:u.branchId},children:[Object(n.jsx)("option",{value:""}),s.map((function(e){return Object(n.jsx)("option",{value:e.branchId,children:e.name},e.branchId)}))]})})]})}),Object(n.jsx)(y.a,{}),Object(n.jsxs)(o.a,{display:"flex",justifyContent:"space-between",p:2,children:[Object(n.jsx)(l.a,{color:"secondary",onClick:function(){e(Object(C.y)(!1)),e(Object(C.D)({}))},type:"button",variant:"contained",children:"Go back"}),Object(n.jsx)(l.a,{color:"primary",type:"submit",disabled:d,variant:"contained",children:v.id?"Update Table":"Add"})]})]})})}})})})},G=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"column"},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)},occupied:{backgroundColor:e.colors.red.main}}})),H=function(e){var t=e.table,r=G(),a=Object(d.b)(),i=Object(P.g)(),c=Object(d.c)((function(e){return e.table})),b=c&&c.selectedTable||{};return Object(n.jsx)(U.b,{children:b.id||c.add?Object(n.jsx)($,{}):Object(n.jsxs)(j.a,{className:Object(w.a)(r.root,t.occupied?r.occupied:null),children:[Object(n.jsxs)(m.a,{children:[Object(n.jsx)(s.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.name}),Object(n.jsx)(s.a,{align:"center",color:"textPrimary",variant:"body1",children:t.branchName})]}),Object(n.jsx)(o.a,{flexGrow:1}),Object(n.jsx)(y.a,{}),Object(n.jsx)(o.a,{p:2,children:Object(n.jsxs)(O.a,{container:!0,justify:"space-between",spacing:2,children:[Object(n.jsx)(s.a,{align:"center",color:"textPrimary",variant:"body1",children:"Login code"}),Object(n.jsx)(s.a,{align:"center",color:"textPrimary",variant:"body1",children:t.loginCode})]})}),Object(n.jsx)(y.a,{}),Object(n.jsx)(o.a,{p:2,children:Object(n.jsxs)(O.a,{container:!0,justify:"space-between",spacing:2,children:[Object(n.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.D)(e)),i("/app/table-details",{replace:!0})}(t)},color:"primary",variant:"contained",children:"View"}),Object(n.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.D)(e))}(t)},color:"primary",variant:"contained",children:"Edit"}),Object(n.jsx)(l.a,{onClick:function(){!function(e){var t=Object.assign({},e);t.loginCode=B(),a(Object(C.k)(t))}(t)},color:"primary",variant:"contained",children:"Generate new code"}),Object(n.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.j)(e))}(t)},color:"secondary",variant:"contained",children:"Delete"})]})})]})})},J=Object(i.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},tableCard:{height:"100%"}}})),F=function(e){var t=e.tables,r=J(),i=Object(a.useState)([]),s=Object(u.a)(i,2),x=s[0],w=s[1],y=Object(d.b)();Object(a.useEffect)((function(){w(t)}),[t]);return Object(n.jsx)(b.a,{className:r.root,title:"Tables",children:Object(n.jsxs)(c.a,{maxWidth:!1,children:[Object(n.jsx)(o.a,{display:"flex",justifyContent:"flex-end",children:Object(n.jsx)(l.a,{onClick:function(){return y(Object(C.y)(!0))},color:"primary",variant:"contained",children:"Add Table"})}),Object(n.jsx)(o.a,{mt:3,children:Object(n.jsx)(j.a,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(o.a,{maxWidth:500,children:Object(n.jsx)(h.a,{fullWidth:!0,InputProps:{startAdornment:Object(n.jsx)(p.a,{position:"start",children:Object(n.jsx)(f.a,{fontSize:"small",color:"action",children:Object(n.jsx)(v.a,{})})})},placeholder:"Search Table",variant:"outlined",onChange:function(e){var r;r=e.target.value.toLowerCase(),w(t.filter((function(e){return e.name.toLowerCase().includes(r)})))}})})})})}),Object(n.jsx)(o.a,{mt:3,children:Object(n.jsx)(g.a,{children:Object(n.jsx)(O.a,{container:!0,spacing:3,children:x.map((function(e){return Object(n.jsx)(O.a,{item:!0,lg:4,md:6,xs:12,children:Object(n.jsx)(H,{className:r.tableCard,table:e})},e.id)}))})})})]})})},K=r(108),Q=Object(i.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}));t.default=function(){var e=Q(),t=Object(d.b)(),r=Object(d.c)((function(e){return e.app})),i=Object(d.c)((function(e){return e.table})),u=i&&i.tables||[];return r.alert.show&&(Object(K.a)({message:r.alert.message}),t(Object(C.t)())),i&&i.new&&t(Object(C.r)()),Object(a.useEffect)((function(){t(Object(C.r)())}),[]),Object(n.jsx)(b.a,{className:e.root,title:"Tables",children:Object(n.jsx)(c.a,{maxWidth:!0,children:i&&i.add?Object(n.jsx)(o.a,{mt:3,children:Object(n.jsx)($,{})}):Object(n.jsx)(o.a,{mt:3,children:u.length?Object(n.jsx)(F,{tables:u}):Object(n.jsxs)(s.a,{style:{margin:"1rem"},variant:"h4",children:["No tables added yet please",Object(n.jsx)(l.a,{onClick:function(){return t(Object(C.y)(!0))},color:"primary",variant:"contained",children:"Add Table"})]})})})})}}}]);
//# sourceMappingURL=14.1460d76d.chunk.js.map