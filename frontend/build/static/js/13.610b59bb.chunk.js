(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{295:function(e,t,n){"use strict";var r=n(9),a=n(4),i=n(1),c=(n(6),n(10)),s=n(15),o=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,o=e.alignItems,l=void 0===o?"stretch":o,d=e.classes,u=e.className,b=e.component,j=void 0===b?"div":b,m=e.container,f=void 0!==m&&m,p=e.direction,h=void 0===p?"row":p,x=e.item,g=void 0!==x&&x,O=e.justify,v=void 0===O?"flex-start":O,w=e.lg,y=void 0!==w&&w,C=e.md,S=void 0!==C&&C,N=e.sm,P=void 0!==N&&N,E=e.spacing,I=void 0===E?0:E,k=e.wrap,W=void 0===k?"wrap":k,T=e.xl,R=void 0!==T&&T,B=e.xs,M=void 0!==B&&B,q=e.zeroMinWidth,z=void 0!==q&&q,U=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=Object(c.a)(d.root,u,f&&[d.container,0!==I&&d["spacing-xs-".concat(String(I))]],g&&d.item,z&&d.zeroMinWidth,"row"!==h&&d["direction-xs-".concat(String(h))],"wrap"!==W&&d["wrap-xs-".concat(String(W))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==v&&d["justify-xs-".concat(String(v))],!1!==M&&d["grid-xs-".concat(String(M))],!1!==P&&d["grid-sm-".concat(String(P))],!1!==S&&d["grid-md-".concat(String(S))],!1!==y&&d["grid-lg-".concat(String(y))],!1!==R&&d["grid-xl-".concat(String(R))]);return i.createElement(j,Object(a.a)({className:L,ref:t},U))})),b=Object(s.a)((function(e){return Object(a.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return o.forEach((function(r){var a=e.spacing(r);0!==a&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(d(a,2)),width:"calc(100% + ".concat(d(a),")"),"& > $item":{padding:d(a,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var a="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:a,flexGrow:0,maxWidth:a}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(a.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=b},296:function(e,t,n){"use strict";var r=n(4),a=n(9),i=n(1),c=(n(6),n(10)),s=n(276),o=n(15),l=n(414),d=i.forwardRef((function(e,t){var n=e.children,o=e.classes,d=e.className,u=e.component,b=void 0===u?"div":u,j=e.disablePointerEvents,m=void 0!==j&&j,f=e.disableTypography,p=void 0!==f&&f,h=e.position,x=e.variant,g=Object(a.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),O=Object(l.b)()||{},v=x;return x&&O.variant,O&&!v&&(v=O.variant),i.createElement(l.a.Provider,{value:null},i.createElement(b,Object(r.a)({className:Object(c.a)(o.root,d,m&&o.disablePointerEvents,O.hiddenLabel&&o.hiddenLabel,"filled"===v&&o.filled,{start:o.positionStart,end:o.positionEnd}[h],"dense"===O.margin&&o.marginDense),ref:t},g),"string"!==typeof n||p?n:i.createElement(s.a,{color:"textSecondary"},n)))}));t.a=Object(o.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},297:function(e,t,n){"use strict";var r=n(4),a=n(9),i=n(1),c=(n(6),n(10)),s=n(100),o=n(15),l=i.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.raised,d=void 0!==l&&l,u=Object(a.a)(e,["classes","className","raised"]);return i.createElement(s.a,Object(r.a)({className:Object(c.a)(n.root,o),elevation:d?8:1,ref:t},u))}));t.a=Object(o.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},300:function(e,t,n){"use strict";var r=n(4),a=n(9),i=n(1),c=(n(6),n(10)),s=n(15),o=i.forwardRef((function(e,t){var n=e.classes,s=e.className,o=e.component,l=void 0===o?"div":o,d=Object(a.a)(e,["classes","className","component"]);return i.createElement(l,Object(r.a)({className:Object(c.a)(n.root,s),ref:t},d))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},408:function(e,t,n){"use strict";var r=n(17),a=n(38),i=n(8),c=n(1),s=n(413),o=n(6),l=n.n(o),d=Object(c.forwardRef)((function(e,t){var n=e.children,c=e.title,o=void 0===c?"":c,l=Object(a.a)(e,["children","title"]);return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({ref:t},l),{},{children:[Object(i.jsx)(s.a,{children:Object(i.jsx)("title",{children:o})}),n]}))}));d.propTypes={children:l.a.node.isRequired,title:l.a.string},t.a=d},437:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(6),c=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,c=void 0===i?24:i,l=o(e,["color","size"]);return a.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));l.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},l.displayName="Search",t.a=l},509:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(1),i=n(399),c=n(302),s=n(289),o=n(276),l=n(275),d=n(37),u=n(408),b=n(65),j=n(297),m=n(300),f=n(304),p=n(296),h=n(95),x=n(295),g=n(421),O=n.n(g),v=n(437),w=n(10),y=n(277),C=n(64),S=n(13),N="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),P=new Uint8Array(16);function E(){if(!N)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N(P)}var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var k=function(e){return"string"===typeof e&&I.test(e)},W=[],T=0;T<256;++T)W.push((T+256).toString(16).substr(1));var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(W[e[t+0]]+W[e[t+1]]+W[e[t+2]]+W[e[t+3]]+"-"+W[e[t+4]]+W[e[t+5]]+"-"+W[e[t+6]]+W[e[t+7]]+"-"+W[e[t+8]]+W[e[t+9]]+"-"+W[e[t+10]]+W[e[t+11]]+W[e[t+12]]+W[e[t+13]]+W[e[t+14]]+W[e[t+15]]).toLowerCase();if(!k(n))throw TypeError("Stringified UUID is invalid");return n};var B=function(e,t,n){var r=(e=e||{}).random||(e.rng||E)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return R(r)},M=n(107),q=n(7),z=n.n(q),U=n(69),L=n(17),V=n(298),A=n(423),D=n(20),G=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.branch})),n=Object(d.c)((function(e){return e.table})),i=Object(d.c)((function(e){return e.user}))||{},c=n&&n.selectedTable||{},o=t&&t.branches||[],u=Object(a.useRef)({}),p=Object(a.useRef)({newPassword:""}),h=new RegExp("^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{5,})"),g=Object(a.useState)({id:"",name:"",userName:"",branchId:"",branchName:"",password:"",passwordConfirm:""}),O=Object(b.a)(g,2),v=O[0],w=O[1];Object(a.useEffect)((function(){t.selectedBranch||w(Object(L.a)(Object(L.a)({},v),{},{userName:i.user.name.split(" ").join("")+"-table-"}))}),[i]),Object(a.useEffect)((function(){c&&w(Object(L.a)({},c))}),[c]),Object(a.useEffect)((function(){e(Object(C.l)())}),[]);var S={newUserName:{required:!0,remoteValidate:!0,url:"".concat(window.restAppConfig.api,"user/validate?username"),errorMessages:{required:"Username is Required",remoteValidate:"Username already Taken"}},newPassword:{required:!v.id||!!p.current.newPassword.length,regex:h,errorMessages:{required:"Password is Required",regex:"Password should contain at least 1 numeric,special character and be of atleast 5 characters"}},passwordConfirm:{required:!v.id||!!p.current.newPassword.length,compareWith:"newPassword",errorMessages:{required:"Please confirm the password",compareWith:"Password doesn't match"}},name:{required:!0,errorMessages:{required:"Full name is Required"}},branchId:{required:!0,errorMessages:{required:"Please select a branch"}}},N=function(){var e=Object(U.a)(z.a.mark((function e(t){var n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=z.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,!S[r]||!S[r].required){e.next=16;break}if(t[r]||(n[r]=S[r].errorMessages.required),!S[r].remoteValidate){e.next=14;break}if(p.current[r]===t[r]&&!u.current[r]){e.next=14;break}return a="".concat(S[r].url,"=").concat(t[r]),v.id&&(a="".concat(a,"&id=").concat(v.id)),e.next=12,Object(D.d)(a);case 12:e.sent||(n[r]=S[r].errorMessages.remoteValidate);case 14:S[r].regex&&(S[r].regex.test(t[r])||(n[r]=S[r].errorMessages.regex)),S[r].compareWith&&t[r]!==t[S[r].compareWith]&&(n[r]=S[r].errorMessages.compareWith);case 16:e.next=2;break;case 18:return u.current=n,p.current=Object(L.a)(Object(L.a)({},p.current),{},{values:t}),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(j.a,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(A.a,{enableReinitialize:!0,initialValues:{name:v.name,newUserName:v.userName,branchId:v.branchId,branchName:v.branchName,newPassword:v.password,passwordConfirm:"",edit:!1},validate:N,onSubmit:function(t,n){if(t.branchName=o.reduce((function(e,n){return n.branchId===t.branchId&&e.push(n.name),e}),[])[0],v.id)return t.edit=!0,t.id=v.id,void e(Object(C.f)(t));e(Object(C.f)(t)),n.setSubmitting(!1)},children:function(t){var n=t.errors,a=t.handleBlur,i=t.handleChange,c=t.handleSubmit,d=t.isSubmitting,u=t.touched,b=t.values;return Object(r.jsx)("form",{onSubmit:c,children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(V.a,{title:v.id?"Edit table":"Add table"}),Object(r.jsx)(y.a,{}),Object(r.jsx)(m.a,{children:Object(r.jsxs)(x.a,{container:!0,spacing:3,children:[Object(r.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(r.jsx)(f.a,{error:Boolean(u.name&&n.name),fullWidth:!0,helperText:u.name&&n.name,label:"Table Name",margin:"normal",name:"name",onBlur:a,onChange:i,value:b.name,variant:"outlined"})}),Object(r.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(r.jsx)(f.a,{error:Boolean(u.newUserName&&n.newUserName),fullWidth:!0,helperText:u.newUserName&&n.newUserName,label:"Username",margin:"normal",name:"newUserName",onBlur:a,onChange:i,value:b.newUserName,variant:"outlined"})}),Object(r.jsx)(x.a,{item:!0,md:4,xs:12,children:Object(r.jsx)(f.a,{error:Boolean(u.newPassword&&n.newPassword),fullWidth:!0,helperText:u.newPassword&&n.newPassword,label:"Password",margin:"normal",name:"newPassword",onBlur:a,onChange:i,value:b.newPassword,variant:"outlined",type:"password"})}),Object(r.jsx)(x.a,{item:!0,md:4,xs:12,children:Object(r.jsx)(f.a,{error:Boolean(u.passwordConfirm&&n.passwordConfirm),fullWidth:!0,helperText:u.passwordConfirm&&n.passwordConfirm,label:"Password",margin:"normal",name:"passwordConfirm",onBlur:a,onChange:i,value:b.passwordConfirm,variant:"outlined",type:"password"})}),Object(r.jsx)(x.a,{item:!0,md:4,xs:12,children:Object(r.jsxs)(f.a,{fullWidth:!0,label:"Select Branch",name:"branchId",margin:"normal",error:Boolean(u.branchId&&n.branchId),helperText:u.branchId&&n.branchId,onChange:i,required:!0,select:!0,SelectProps:{native:!0},value:b.branchId,variant:"outlined",InputLabelProps:{shrink:b.branchId},children:[Object(r.jsx)("option",{value:""}),o.map((function(e){return Object(r.jsx)("option",{value:e.branchId,children:e.name},e.branchId)}))]})})]})}),Object(r.jsx)(y.a,{}),Object(r.jsxs)(s.a,{display:"flex",justifyContent:"space-between",p:2,children:[Object(r.jsx)(l.a,{color:"secondary",onClick:function(){e(Object(C.z)(!1)),e(Object(C.E)({}))},type:"button",variant:"contained",children:"Go back"}),Object(r.jsx)(l.a,{color:"primary",type:"submit",disabled:d,variant:"contained",children:v.id?"Update Table":"Add"})]})]})})}})})})},$=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"column"},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)},occupied:{backgroundColor:e.colors.red.main}}})),H=function(e){var t=e.table,n=$(),a=Object(d.b)(),i=Object(S.g)(),c=Object(d.c)((function(e){return e.table})),u=c&&c.selectedTable||{};return Object(r.jsx)(M.b,{children:u.id||c.add?Object(r.jsx)(G,{}):Object(r.jsxs)(j.a,{className:Object(w.a)(n.root,t.occupied?n.occupied:null),children:[Object(r.jsxs)(m.a,{children:[Object(r.jsx)(o.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.name}),Object(r.jsx)(o.a,{align:"center",color:"textPrimary",variant:"body1",children:t.branchName})]}),Object(r.jsx)(s.a,{flexGrow:1}),Object(r.jsx)(y.a,{}),Object(r.jsx)(s.a,{p:2,children:Object(r.jsxs)(x.a,{container:!0,justify:"space-between",spacing:2,children:[Object(r.jsx)(o.a,{align:"center",color:"textPrimary",variant:"body1",children:"Login code"}),Object(r.jsx)(o.a,{align:"center",color:"textPrimary",variant:"body1",children:t.loginCode})]})}),Object(r.jsx)(y.a,{}),Object(r.jsx)(s.a,{p:2,children:Object(r.jsxs)(x.a,{container:!0,justify:"space-between",spacing:2,children:[Object(r.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.E)(e)),i("/app/main/table-details",{replace:!0})}(t)},color:"primary",variant:"contained",children:"View"}),Object(r.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.E)(e))}(t)},color:"primary",variant:"contained",children:"Edit"}),Object(r.jsx)(l.a,{onClick:function(){!function(e){var t=Object.assign({},e);t.loginCode=B(),a(Object(C.k)(t))}(t)},color:"primary",variant:"contained",children:"Generate new code"}),Object(r.jsx)(l.a,{onClick:function(){!function(e){a(Object(C.j)(e))}(t)},color:"secondary",variant:"contained",children:"Delete"})]})})]})})},F=Object(i.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},tableCard:{height:"100%"}}})),J=function(e){var t=e.tables,n=F(),i=Object(a.useState)([]),o=Object(b.a)(i,2),g=o[0],w=o[1],y=Object(d.b)();Object(a.useEffect)((function(){w(t)}),[t]);return Object(r.jsx)(u.a,{className:n.root,title:"Tables",children:Object(r.jsxs)(c.a,{maxWidth:!1,children:[Object(r.jsx)(s.a,{display:"flex",justifyContent:"flex-end",children:Object(r.jsx)(l.a,{onClick:function(){return y(Object(C.z)(!0))},color:"primary",variant:"contained",children:"Add Table"})}),Object(r.jsx)(s.a,{mt:3,children:Object(r.jsx)(j.a,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(s.a,{maxWidth:500,children:Object(r.jsx)(f.a,{fullWidth:!0,InputProps:{startAdornment:Object(r.jsx)(p.a,{position:"start",children:Object(r.jsx)(h.a,{fontSize:"small",color:"action",children:Object(r.jsx)(v.a,{})})})},placeholder:"Search Table",variant:"outlined",onChange:function(e){var n;n=e.target.value.toLowerCase(),w(t.filter((function(e){return e.name.toLowerCase().includes(n)})))}})})})})}),Object(r.jsx)(s.a,{mt:3,children:Object(r.jsx)(O.a,{children:Object(r.jsx)(x.a,{container:!0,spacing:3,children:g.map((function(e){return Object(r.jsx)(x.a,{item:!0,lg:4,md:6,xs:12,children:Object(r.jsx)(H,{className:n.tableCard,table:e})},e.id)}))})})})]})})},K=n(108),Q=Object(i.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}));t.default=function(){var e=Q(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.app})),i=Object(d.c)((function(e){return e.table})),b=i&&i.tables||[];return n.alert.show&&(Object(K.a)({message:n.alert.message}),t(Object(C.u)())),i&&i.new&&t(Object(C.s)()),Object(a.useEffect)((function(){t(Object(C.s)())}),[]),Object(r.jsx)(u.a,{className:e.root,title:"Tables",children:Object(r.jsx)(c.a,{maxWidth:!0,children:i&&i.add?Object(r.jsx)(s.a,{mt:3,children:Object(r.jsx)(G,{})}):Object(r.jsx)(s.a,{mt:3,children:b.length?Object(r.jsx)(J,{tables:b}):Object(r.jsxs)(o.a,{style:{margin:"1rem"},variant:"h4",children:["No tables added yet please",Object(r.jsx)(l.a,{onClick:function(){return t(Object(C.z)(!0))},color:"primary",variant:"contained",children:"Add Table"})]})})})})}}}]);
//# sourceMappingURL=13.610b59bb.chunk.js.map