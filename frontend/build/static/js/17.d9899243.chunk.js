(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[17],{460:function(e,t,n){"use strict";var c=n(44),r=n(65),a=n(8),i=n(0),o=n.n(i),s=n(399),l=n(301),d=n(304),j=n(309),u=n(289),b=n(331),m=n(276),x=n(277),f=n(296),h=n(275),p=n(37),O=n(106),g=n(64),y=n(434),v=n.n(y),C=n(475),B=n.n(C),k=n(278),N=n(274),w=n(314),S=n(330),I=n(313),T=n(336),z=n(56),D=Object(s.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column"},buttonBox:{display:"flex",flexDirection:"row",justifyContent:"space-between"},backButton:{backgroundColor:e.colors.red},addButton:{backgroundColor:z.a[500]}}}));function P(e){var t=e.customisations,n=e.onSelect,s=e.onDone,l=e.onCancel,d=e.selected,j=D(),b=o.a.useState([0]),m=Object(r.a)(b,2),x=m[0],f=m[1],p=function(e){var t=x.indexOf(e.id),r=Object(c.a)(x);-1===t?(r.push(e.id),n(e,"add")):(r.splice(t,1),n(e,"remove")),f(r)};return Object(i.useEffect)((function(){d.forEach((function(e){e.id&&p(e)}))}),[d]),Object(a.jsxs)(k.a,{className:j.root,children:[Object(a.jsx)(I.a,{primary:"Available addons"}),t.map((function(e){var t="checkbox-list-label-".concat(e.id);return Object(a.jsxs)(N.a,{role:void 0,dense:!0,button:!0,onClick:function(){p(e)},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(T.a,{edge:"start",checked:-1!==x.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(a.jsx)(I.a,{primary:e.name}),Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{primary:e.price})})]},e.id)})),Object(a.jsxs)(u.a,{className:j.buttonBox,children:[Object(a.jsx)(h.a,{className:j.backButton,onClick:function(){l()},variant:"contained",children:"Go back"}),Object(a.jsx)(h.a,{className:j.addButton,onClick:function(){s(!1)},variant:"contained",children:"Add to cart"})]})]})}var R=n(10),W=Object(s.a)((function(e){return{media:{height:140},button:{border:"1px solid black",color:e.palette.text.primary,"&:hover":{color:"green","& .MuiButton-endIcon":{fill:"black",transform:"translateX(3px)",transition:"all 0.2s ease"}}},customisationButton:{fontSize:".6rem",width:"13rem",lineHeight:".1rem",marginBottom:"1rem"},productName:{color:e.palette.text.primary,fontSize:"1.6rem",fontWeight:"750",lineHeight:"1.8rem"},productCard:{marginBottom:".7rem","&:hover":{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},focused:{backgroundColor:"#f1faee"},productCardContent:{display:"flex",flexDirection:"column"},price:{color:e.palette.text.primary,fontSize:"1rem"},description:{color:e.palette.text.primary,fontSize:".7rem"},addButton:{fill:e.colors.red},removeButton:{fill:e.colors.green}}}));t.a=function(e){var t=e.product,n=W(),o=Object(p.b)(),s=(Object(p.c)((function(e){return e.order}))||{}).selectedProducts||[],y=Object(i.useRef)([]),C=Object(i.useState)(!1),k=Object(r.a)(C,2),N=k[0],w=k[1],S=Object(i.useRef)({}),I=s.find((function(e){return e.id===t.id}))||{},T=function(){S.current.customisations=y.current,o(Object(g.e)(S.current)),S.current={},y.current=[],w(!1)};return Object(a.jsx)(O.a,{effect:"pulse",children:Object(a.jsxs)(l.a,{className:N?Object(R.a)(n.productCard,n.focused):n.productCard,children:[Object(a.jsx)(d.a,{className:n.productCardContent,children:N?Object(a.jsx)(j.a,{in:!0,children:Object(a.jsx)(P,{selected:y.current,customisations:t.customisation,onDone:T,onCancel:function(){w(!1)},onSelect:function(e,t){"add"===t?y.current=[].concat(Object(c.a)(y.current),[e]):"remove"===t&&(y.current=y.current.filter((function(t){return t.id!==e.id})))}})}):Object(a.jsxs)(u.a,{children:[t.image&&Object(a.jsx)(b.a,{image:t.image,title:t.name,className:n.media}),Object(a.jsx)(m.a,{gutterBottom:!0,className:n.productName,children:t.name}),Object(a.jsxs)(m.a,{className:n.price,children:["Rs ",t.price]}),Object(a.jsx)(m.a,{className:n.description,children:t.description})]})}),Object(a.jsx)(x.a,{}),Object(a.jsx)(u.a,{p:2,children:N?null:Object(a.jsxs)(f.a,{container:!0,justify:"space-between",spacing:2,children:[Object(a.jsx)(h.a,{variant:"outlined",color:"primary",onClick:function(){!function(e){var t=Object.assign({},e);t.quantity=1,t.price=e.price,S.current=t,t.customisation.length?w(!0):T()}(t)},className:n.button,endIcon:Object(a.jsx)(v.a,{className:n.removeButton}),children:"Add"}),Object(a.jsx)(m.a,{align:"center",color:"textPrimary",gutterBottom:!0,style:{fontSize:"1rem"},children:(I&&I.quantity||0)+" Nos"}),Object(a.jsx)(h.a,{variant:"outlined",color:"primary",onClick:function(){!function(e){var t=Object.assign({},e);t.customisations=[],o(Object(g.C)(t))}(t)},className:n.button,endIcon:Object(a.jsx)(B.a,{className:n.addButton}),children:"Remove"})]})})]})})}},461:function(e,t,n){"use strict";var c=n(65),r=n(8),a=n(0),i=n(476),o=n(399),s=n(296),l=n(301),d=n(340),j=n(276),u=n(333),b=n(277),m=n(334),x=n(275),f=n(289),h=n(304),p=n(37),O=n(435),g=n.n(O),y=n(106),v=n(332),C=n(64),B=n(434),k=n.n(B),N=n(477),w=n.n(N),S=Object(o.a)((function(e){return{cartItems:{width:"5rem",fontSize:".7rem"},addButton:{fill:e.colors.red,"&:hover":{fill:"black"},cursor:"pointer"},removeButton:{fill:e.colors.green,"&:hover":{fill:"black"},cursor:"pointer"},actionsCard:{display:"flex",padding:".5rem",background:"#eae9e92b"}}})),I=function(e){var t=e.item,n=Object(p.b)(),c=S();return Object(r.jsx)(s.a,{item:!0,xs:12,children:Object(r.jsx)(y.c,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(h.a,{style:{padding:"unset"},children:Object(r.jsx)(f.a,{p:2,children:Object(r.jsxs)(s.a,{container:!0,justify:"space-between",spacing:1,children:[Object(r.jsx)(s.a,{item:!0,xs:5,children:Object(r.jsx)(j.a,{noWrap:!0,children:t.name})}),Object(r.jsx)(s.a,{xs:4,item:!0,children:Object(r.jsxs)(l.a,{className:c.actionsCard,children:[Object(r.jsx)(k.a,{onClick:function(){return function(e){var t=Object.assign({},e);t.quantity=1,t.cartItemPanel=!0,n(Object(C.e)(t))}(t)},className:c.addButton}),Object(r.jsx)(j.a,{className:c.cartItems,variant:"h5",align:"center",children:t.quantity}),Object(r.jsx)(w.a,{onClick:function(){return e=t,void n(Object(C.C)(e));var e},className:c.removeButton})]})}),Object(r.jsx)(s.a,{item:!0,xs:3,children:Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["$ ",t.cost]})})]})})}),Object(r.jsx)(v.a,{})]})})})},T=n(505),z=n(53),D=n(56),P=Object(o.a)((function(e){return{root:{width:"100%"},emptyCart:{display:"flex",flexDirection:"column"},emptyCartImage:{width:"10rem",alignSelf:"center"},emptyCartText:{color:e.palette.text.primary,fontSize:"1.2rem",alignSelf:"center",paddingBottom:"1rem"},cartTitle:{color:e.palette.text.primary,fontSize:"1.4rem",padding:"1rem",fontWeight:800},cartTitleMobile:{color:e.palette.text.primary,fontSize:"1rem",padding:"1rem",fontWeight:800},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},orderButton:{backgroundColor:e.colors.green},orderBox:{display:"flex",justifyContent:"space-between"},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));t.a=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.order}))||{},n=Object(p.c)((function(e){return e.table}))||{},o=t.selectedProducts||[],O=Object(a.useState)(!1),v=Object(c.a)(O,2),B=v[0],k=v[1],N=o.map((function(e){return e.items})).reduce((function(e,t){return e.concat(t)}),[])||[],w=P(),S=0;N.forEach((function(e){var t=e.customisations.reduce((function(e,t){return e+t.price}),0)+e.price;e.quantity>1?S+=t*e.quantity:S+=t}));var R=function(){var t={},c=N.slice(0);c=c.map((function(e){var t=Object.assign({},e);return t.customisations=e.customisations.map((function(e){return e.id})),t})),t.tableId=n.selectedTable.id,t.products=c,t.price=S,t.status="ordered",e(Object(C.c)(t))};return i.isMobile?Object(r.jsx)(s.a,{container:!0,justify:"center",fullWidth:!0,children:B?Object(r.jsxs)(l.a,{style:{bottom:"0",position:"fixed",width:"90%",maxHeight:"70vh",overflow:"scroll"},children:[Object(r.jsx)(d.a,{expandIcon:Object(r.jsx)(g.a,{onClick:function(){k(!B)}}),children:Object(r.jsx)(j.a,{className:w.cartTitleMobile,children:"Items in your cart"})}),Object(r.jsx)(u.a,{className:w.details,children:Object(r.jsx)(l.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:N.map((function(e,t){return Object(r.jsx)(I,{item:e},e.id+t)}))})}),Object(r.jsx)(b.a,{}),Object(r.jsxs)(m.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["Total Cost: ",S]}),Object(r.jsx)(x.a,{variant:"contained",onClick:function(){R()},disabled:!o.length,className:w.orderButton,endIcon:Object(r.jsx)(T.a,{}),children:"Place Order"})]})]}):Object(r.jsxs)(f.a,{style:{display:"flex",justifyContent:"center",bottom:"0",position:"fixed"},children:[Object(r.jsx)(x.a,{style:{background:z.a[500],margin:"1rem"},variant:"contained",onClick:function(){e(Object(C.w)(!1))},children:"Go back"}),Object(r.jsx)(x.a,{style:{background:D.a[500],margin:"1rem"},variant:"contained",onClick:function(){k(!B)},children:"Cart"})]})}):Object(r.jsxs)(f.a,{style:{display:"flex",flexDirection:"column",minHeight:"20vh",width:"30%"},children:[Object(r.jsx)(j.a,{gutterBottom:!0,className:w.cartTitle,component:"h2",children:"Items in your cart"}),0===o.length&&Object(r.jsxs)(f.a,{className:w.emptyCart,children:[Object(r.jsx)("img",{alt:"empty-cart",src:"/images/empty-plate.png",className:w.emptyCartImage}),Object(r.jsx)(j.a,{variant:"h5",component:"h2",className:w.emptyCartText,children:"Uh, oh! your cart looks empty"})]}),N.map((function(e,t){return Object(r.jsx)(I,{item:e},e.id+t)})),Object(r.jsx)(b.a,{}),o.length>0?Object(r.jsx)(s.a,{item:!0,xs:12,children:Object(r.jsx)(y.c,{children:Object(r.jsx)(h.a,{children:Object(r.jsxs)(f.a,{className:w.orderBox,children:[Object(r.jsxs)(j.a,{gutterBottom:!0,variant:"h5",children:["Total Cost: ",S]}),Object(r.jsx)(x.a,{variant:"contained",onClick:function(){R()},disabled:!o.length,className:w.orderButton,endIcon:Object(r.jsx)(T.a,{}),children:"Place Order"})]})})})}):Object(r.jsx)("div",{})]})}},506:function(e,t,n){"use strict";n.r(t);var c=n(65),r=n(8),a=n(0),i=n(399),o=n(296),s=n(289),l=n(301),d=n(304),j=n(318),u=n(295),b=n(95),m=n(275),x=n(323),f=n(324),h=n(338),p=n(305),O=n(433),g=n(37),y=n(64),v=n(460),C=n(461),B=Object(i.a)((function(e){return{sortBy:{width:"10rem"},helperBox:{display:"flex",flexDirection:"row",marginTop:"1rem",justifyContent:"space-between"},button:{width:"9rem"}}}));t.default=function(){var e=Object(g.b)(),t=B(),n=Object(g.c)((function(e){return e.product})),i=Object(a.useState)([]),k=Object(c.a)(i,2),N=k[0],w=k[1],S=Object(a.useRef)(""),I=Object(a.useRef)(""),T=Object(g.c)((function(e){return e.branch})),z=T&&T.topProducts||[],D=n&&n.products||[],P=function(e){I.current=e,w(D.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})))};return Object(a.useEffect)((function(){e(Object(y.s)())}),[]),Object(a.useEffect)((function(){P(""),w(D)}),[D]),Object(r.jsxs)(o.a,{container:!0,maxWidth:!0,children:[Object(r.jsxs)(o.a,{style:{marginRight:"1rem"},item:!0,lg:7,children:[Object(r.jsx)(s.a,{children:Object(r.jsx)(l.a,{style:{marginBottom:"1rem"},children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(j.a,{fullWidth:!0,onChange:function(e){P(e.target.value)},InputProps:{startAdornment:Object(r.jsx)(u.a,{position:"start",children:Object(r.jsx)(b.a,{fontSize:"small",color:"action",children:Object(r.jsx)(O.a,{})})})},placeholder:"Search for dishes",variant:"outlined",value:I.current}),Object(r.jsxs)(s.a,{className:t.helperBox,children:[Object(r.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){w(z)},className:t.button,children:"Top ordered"}),Object(r.jsxs)(x.a,{className:t.sortBy,variant:"outlined",children:[Object(r.jsx)(f.a,{id:"demo-simple-select-outlined-label",children:"Sort by"}),Object(r.jsxs)(h.a,{value:S.current,onChange:function(e){!function(e){var t=N.slice(0);if(S.current=e,t.length>1)switch(I.current&&(t=t.filter((function(e){return e.name.toLowerCase().includes(I.current.toLowerCase())}))),e){case"ascending":w(t.sort((function(e,t){return e.price-t.price})));break;case"descending":w(t.sort((function(e,t){return t.price-e.price})))}}(e.target.value)},label:"Sort by",children:[Object(r.jsx)(p.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),Object(r.jsx)(p.a,{value:"ascending",children:"Price low to high"}),Object(r.jsx)(p.a,{value:"descending",children:"Price high to low"})]})]})]})]})})}),Object(r.jsx)(o.a,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:N.map((function(e,t){return Object(r.jsx)(o.a,{item:!0,lg:6,xs:12,children:Object(r.jsx)(v.a,{product:e})},e.id+t)}))})]}),Object(r.jsx)(o.a,{item:!0,style:{marginTop:"5rem"},lg:4,children:Object(r.jsx)(C.a,{})})]})}}}]);
//# sourceMappingURL=17.d9899243.chunk.js.map